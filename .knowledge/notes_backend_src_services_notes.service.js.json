{"is_source_file": true, "format": "JavaScript", "description": "This file defines the NotesService class which encapsulates business logic for managing notes, including creating, retrieving, listing, updating, and deleting notes. It interacts with a notes repository and performs validation and error handling.", "external_files": ["../repositories/notes.repository", "../utils/ApiError"], "external_methods": ["notesRepo.create", "notesRepo.findById", "notesRepo.findAllByUser", "notesRepo.update", "notesRepo.remove", "ApiError"], "published": ["new NotesService()"], "classes": [{"name": "NotesService", "description": "Encapsulates business logic for managing notes with methods for create, read, update, delete, and list operations."}], "methods": [{"name": "createNote({ title, content, userId })", "description": "Validates input and creates a new note via the repository.", "scope": "NotesService", "scopeKind": "class"}, {"name": "getNoteById(id, userId)", "description": "Retrieves a specific note by ID for a given user, with validation and error handling.", "scope": "NotesService", "scopeKind": "class"}, {"name": "listNotes(userId, search)", "description": "Lists all notes for a user, optionally filtered by a search term.", "scope": "NotesService", "scopeKind": "class"}, {"name": "updateNote(id, userId, { title, content })", "description": "Updates an existing note if it exists, with validation and error handling.", "scope": "NotesService", "scopeKind": "class"}, {"name": "deleteNote(id, userId)", "description": "Deletes a note by ID for a user, with validation and error handling.", "scope": "NotesService", "scopeKind": "class"}], "calls": ["notesRepo.create", "notesRepo.findById", "notesRepo.findAllByUser", "notesRepo.update", "notesRepo.remove", "ApiError"], "search-terms": ["NotesService", "notes.repository", "manage notes", "notes CRUD", "notes business logic"], "state": 2, "file_id": 24, "knowledge_revision": 52, "git_revision": "", "ctags": [{"_type": "tag", "name": "ApiError", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-24022-24060/notes_backend/src/services/notes.service.js", "pattern": "/^const ApiError = require('..\\/utils\\/ApiError');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "NotesService", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-24022-24060/notes_backend/src/services/notes.service.js", "pattern": "/^class NotesService {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "createNote", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-24022-24060/notes_backend/src/services/notes.service.js", "pattern": "/^  async createNote({ title, content, userId }) {$/", "language": "JavaScript", "kind": "method", "signature": "({ title, content, userId })", "scope": "NotesService", "scopeKind": "class"}, {"_type": "tag", "name": "deleteNote", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-24022-24060/notes_backend/src/services/notes.service.js", "pattern": "/^  async deleteNote(id, userId) {$/", "language": "JavaScript", "kind": "method", "signature": "(id, userId)", "scope": "NotesService", "scopeKind": "class"}, {"_type": "tag", "name": "exports", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-24022-24060/notes_backend/src/services/notes.service.js", "pattern": "/^module.exports = new NotesService();$/", "language": "JavaScript", "kind": "variable", "scope": "module", "scopeKind": "class"}, {"_type": "tag", "name": "getNoteById", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-24022-24060/notes_backend/src/services/notes.service.js", "pattern": "/^  async getNoteById(id, userId) {$/", "language": "JavaScript", "kind": "method", "signature": "(id, userId)", "scope": "NotesService", "scopeKind": "class"}, {"_type": "tag", "name": "listNotes", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-24022-24060/notes_backend/src/services/notes.service.js", "pattern": "/^  async listNotes(userId, search) {$/", "language": "JavaScript", "kind": "method", "signature": "(userId, search)", "scope": "NotesService", "scopeKind": "class"}, {"_type": "tag", "name": "notesRepo", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-24022-24060/notes_backend/src/services/notes.service.js", "pattern": "/^const notesRepo = require('..\\/repositories\\/notes.repository');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "updateNote", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-24022-24060/notes_backend/src/services/notes.service.js", "pattern": "/^  async updateNote(id, userId, { title, content }) {$/", "language": "JavaScript", "kind": "method", "signature": "(id, userId, { title, content })", "scope": "NotesService", "scopeKind": "class"}], "hash": "5d1ee74f2806223509fdb68429734949", "format-version": 4, "code-base-name": "notes_backend", "filename": "notes_backend/src/services/notes.service.js", "fields": [{"name": "module.exports = new NotesService();", "scope": "module", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"52": ""}]}